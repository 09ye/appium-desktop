# Master build. Runs on any commit to master.
jobs:
- job: crowdin
  steps:
    - task: NodeTool@0
      inputs:
        versionSpec: '11.x'
    - script: npm install
      displayName: NPM install
    - script: npx semantic-release --dry-run --branch dpgraham-semantic-release
      displayName: Semantic Release -- Dry Run
      env:
        GITHUB_TOKEN: $(GITHUB_TOKEN)
    - script: npm run crowdin-update
      env:
        CROWDIN_PROJECT_KEY: $(CROWDIN_PROJECT_KEY)
      displayName: Crowdin Update